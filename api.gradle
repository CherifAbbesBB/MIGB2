
// Define a "source set" referencing the API source code for the B2.
sourceSets {
  api {
    java {
      srcDir "src/api/java"
    }
    resources {
      srcDir "src/api/resources"
    }
  }
}

// Build and package the API source code
task apiJar( type: Jar, dependsOn: tasks.apiClasses ) {
  from sourceSets.api.output
  classifier = "api"
}

// Add the API JAR to the WAR
war {
  from( apiJar ) {
    into "WEB-INF/libext"
  }
}

// Make sure that the API JAR is also uploaded to Maven if you deploy there.
artifacts {
  archives apiJar
}
